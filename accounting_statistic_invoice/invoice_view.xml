<?xml version="1.0"?>
<openerp>
    <data>
    <!-- Statistic invoice product: statistic.invoice.product ************** -->
       <!-- Search -->
    <record model="ir.ui.view" id="view_statistic_invoice_product_search">
        <field name="name">statistic.invoice.product.search</field>
        <field name="model">statistic.invoice.product</field>
        <field name="arch" type="xml">
            <search string="Statistic invoice product">
                    <field name="name" />
            </search>
        </field>
    </record>

       <!-- Form -->
    <record model="ir.ui.view" id="view_statistic_invoice_product_form">
        <field name="name">Statistiche prodotto (fatture+OC) divisi per mese</field>
        <field name="model">statistic.invoice.product</field>
        <field name="arch" type="xml">
            <form string="Statistic invoice product">
                <field name="name" />
                <field name="month" />
                <!--<field name="total_last_last_last_last" />
                <field name="total_last_last_last" />-->
                <field name="total_last_last" />
                <field name="total_last" />
                <field name="total" />
                <!--<field name="type_document" />-->
            </form>
        </field>
    </record>

       <!-- Tree -->
    <record model="ir.ui.view" id="view_statistic_invoice_product_tree">
        <field name="name">Statistiche prodotto (fatture+OC) divisi per mese</field>
        <field name="model">statistic.invoice.product</field>
        <field name="arch" type="xml">
            <tree string="Statistic invoice product">
                <field name="name" />
                <field name="visible" invisible="1" />
                <field name="month" />
                <!--<field name="total_last_last_last_last" />
                <field name="total_last_last_last" />-->
                <field name="total_last_last" />
                <field name="total_last" />
                <field name="total" />
                <!--<field name="type_document" />-->
            </tree>
        </field>
    </record>
 
       <!-- Graph -->
     <record model="ir.ui.view" id="view_statistic_invoice_product_graph">
        <field name="name">Grafico statistiche prodotto (fatture+OC) divisi per mese</field>
        <field name="model">statistic.invoice.product</field>
        <field name="arch" type="xml">
            <graph string="trend by product" type="bar">
                <field name="month"/>
                <field name="total_last_last" operator="+" />
                <field name="total_last" operator="+" />
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>
     <record model="ir.ui.view" id="view_statistic_invoice_product_stagione_graph">
        <field name="name">Grafico statistiche prodotto (fatture+OC) divisi per stagione</field>
        <field name="model">statistic.invoice.product</field>
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
            <graph string="trend by product" type="bar">
                <field name="name"/>
                <field name="total_last_last" operator="+" />
                <field name="total_last" operator="+" />
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>
   
       <!-- Action -->
    <record model="ir.actions.act_window" id="action_statistic_invoice_product">
        <field name="name">Statistiche prodotto (fatture+OC) divisi per mese</field>
        <field name="res_model">statistic.invoice.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" ref="view_statistic_invoice_product_search"/>
    </record>

    <record model="ir.actions.act_window" id="action_statistic_invoice_product_dashboard">
        <field name="name">Statistiche prodotto (fatture+OC) divisi per mese</field>
        <field name="res_model">statistic.invoice.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="search_view_id" ref="view_statistic_invoice_product_search"/>
    </record>
    <!--TODO remove extra action for split product view in more graphs-->
    <record model="ir.actions.act_window" id="action_statistic_invoice_product_stagione_dashboard">
        <field name="name">FT+BC+OC (>0.5) per fam. prodotto (sul totale di tre stagioni)</field>
        <field name="res_model">statistic.invoice.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">[('visible','=',True)]</field>
        <!--<field name="domain">['|','|',('percentage','&gt;=',0.5),('percentage_last','&gt;=',0.5),('percentage_last_last','&gt;=',0.5)]</field>-->
        <!--<field name="search_view_id" ref="view_statistic_invoice_product_search"/>-->
        <field name="context">{'graph_view_ref': 'mexal_order_statistic.view_statistic_invoice_product_stagione_graph'}</field>
    </record>
    <record model="ir.actions.act_window" id="action_statistic_invoice_product_stagione_less_dashboard">
        <field name="name">FT+BC+OC (&lt;=0.5) per fam. prodotto (sul totale di tre stagioni)</field>
        <field name="res_model">statistic.invoice.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">[('visible','=',False),('name','&lt;','1')]</field>
        <field name="context">{'graph_view_ref': 'mexal_order_statistic.view_statistic_invoice_product_stagione_graph'}</field>
    </record>
    <record model="ir.actions.act_window" id="action_statistic_invoice_product_stagione_less1_dashboard">
        <field name="name">FT+BC+OC (&lt;=0.5) per fam. prodotto (sul totale di tre stagioni)</field>
        <field name="res_model">statistic.invoice.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">[('visible','=',False),('name','&gt;=','1'),('name','&lt;','3')]</field>
        <field name="context">{'graph_view_ref': 'mexal_order_statistic.view_statistic_invoice_product_stagione_graph'}</field>
    </record>
    <record model="ir.actions.act_window" id="action_statistic_invoice_product_stagione_less2_dashboard">
        <field name="name">FT+BC+OC (&lt;=0.5) per fam. prodotto (sul totale di tre stagioni)</field>
        <field name="res_model">statistic.invoice.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">[('visible','=',False),('name','&gt;=','3'),('name','&lt;','7')]</field>
        <field name="context">{'graph_view_ref': 'mexal_order_statistic.view_statistic_invoice_product_stagione_graph'}</field>
    </record>
    <record model="ir.actions.act_window" id="action_statistic_invoice_product_stagione_less3_dashboard">
        <field name="name">FT+BC+OC (&lt;=0.5) per fam. prodotto (sul totale di tre stagioni)</field>
        <field name="res_model">statistic.invoice.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">[('visible','=',False),('name','&gt;=','7'),('name','&lt;','C')]</field>
        <field name="context">{'graph_view_ref': 'mexal_order_statistic.view_statistic_invoice_product_stagione_graph'}</field>
    </record>
    <record model="ir.actions.act_window" id="action_statistic_invoice_product_stagione_less4_dashboard">
        <field name="name">FT+BC+OC (&lt;=0.5) per fam. prodotto (sul totale di tre stagioni)</field>
        <field name="res_model">statistic.invoice.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">[('visible','=',False),('name','&gt;=','C'),('name','&lt;','C6')]</field>
        <field name="context">{'graph_view_ref': 'mexal_order_statistic.view_statistic_invoice_product_stagione_graph'}</field>
    </record>
    <record model="ir.actions.act_window" id="action_statistic_invoice_product_stagione_less5_dashboard">
        <field name="name">FT+BC+OC (&lt;=0.5) per fam. prodotto (sul totale di tre stagioni)</field>
        <field name="res_model">statistic.invoice.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">[('visible','=',False),('name','&gt;=','C6'),('name','&lt;','E')]</field>
        <field name="context">{'graph_view_ref': 'mexal_order_statistic.view_statistic_invoice_product_stagione_graph'}</field>
    </record>
    <record model="ir.actions.act_window" id="action_statistic_invoice_product_stagione_less6_dashboard">
        <field name="name">FT+BC+OC (&lt;=0.5) per fam. prodotto (sul totale di tre stagioni)</field>
        <field name="res_model">statistic.invoice.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">[('visible','=',False),('name','&gt;=','E'),('name','&lt;','P')]</field>
        <field name="context">{'graph_view_ref': 'mexal_order_statistic.view_statistic_invoice_product_stagione_graph'}</field>
    </record>
    <record model="ir.actions.act_window" id="action_statistic_invoice_product_stagione_less7_dashboard">
        <field name="name">FT+BC+OC (&lt;=0.5) per fam. prodotto (sul totale di tre stagioni)</field>
        <field name="res_model">statistic.invoice.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">[('visible','=',False),('name','&gt;=','P')]</field>
        <field name="context">{'graph_view_ref': 'mexal_order_statistic.view_statistic_invoice_product_stagione_graph'}</field>
    </record>    
    
    <!-- Statistic Order: statistic.invoice.product ************************ -->
    <record model="ir.ui.view" id="view_statistic_invoice_product_removed_search">
        <field name="name">statistic.invoice.product.search.removed</field>
        <field name="model">statistic.invoice.product.removed</field>
        <field name="type">search</field>
        <field name="arch" type="xml">
            <search string="Famiglie da rimuovere">
                    <field name="name" />
            </search>
        </field>
    </record>
    <record model="ir.ui.view" id="view_statistic_invoice_product_removed_form">
        <field name="name">Prodotti da rimuovere</field>
        <field name="model">statistic.invoice.product.removed</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Famiglie to remove">
                <field name="name" />
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="view_statistic_invoice_product_removed_tree">
        <field name="name">Prodotti da rimuovere</field>
        <field name="model">statistic.invoice.product.removed</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Famiglie da rimuovere">
                <field name="name" />
            </tree>
        </field>
    </record>
    <record model="ir.actions.act_window" id="action_statistic_invoice_product_removed">
        <field name="name">Famiglie da rimuovere</field>
        <field name="res_model">statistic.invoice.product.removed</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" ref="view_statistic_invoice_product_removed_search"/>
    </record>

    
    <!--statistic.invoice.agent-->
    <record model="ir.ui.view" id="view_statistic_agents_form">
        <field name="name">statistic.invoice.agent.form</field>
        <field name="model">statistic.invoice.agent</field>
        <field name="arch" type="xml">
            <form string="Statistic tree">
                <field name="hide_statistic"/>
                <!--<field name="trend" />-->
                <field name="name" />
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="view_statistic_agents_tree">
        <field name="name">statistic.invoice.agent.tree</field>
        <field name="model">statistic.invoice.agent</field>
        <field name="arch" type="xml">
            <tree string="Statistic tree">
                <field name="hide_statistic"/>
                <!--<field name="trend" />-->
                <field name="name" />
            </tree>
        </field>
    </record>
    <record model="ir.actions.act_window" id="action_statistic_agents_configuration">
        <field name="name">Agenti</field>
        <field name="res_model">statistic.invoice.agent</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
    </record>

    
      <!--Statistic invoice: statistic.invoice **************************** -->
        <record model="ir.ui.view" id="view_statistic_invoice_search">
        <field name="name">statistic.invoice.search</field>
        <field name="model">statistic.invoice</field>
        <field name="arch" type="xml">
            <search string="Statistic invoice">
                <group col="10" colspan="4">
                    <field name="name" />
                    <field name="partner_id"/>
                    <field name="month"/>
                </group>
                <newline/>
                <group expand="0" string="Group By..." colspan="14">
                    <filter string="Partner" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'partner_id'}"/>
                </group>
            </search>
        </field>
    </record>
    <record model="ir.ui.view" id="view_statistic_invoice_nation_search">
        <field name="name">statistic.invoice.nation.search</field>
        <field name="model">statistic.invoice</field>
        <field name="priority" eval="40" />
        <field name="arch" type="xml">
            <search string="Statistic invoice nation">
                <group col="10" colspan="4">
                    <field name="name" />
                    <field name="partner_id"/>
                    <field name="month"/>
                    <field name="zone_id"/>
                    <field name="country_id"/>
                </group>
                <newline/>
                <group expand="0" string="Group By..." colspan="14">
                    <filter string="Partner" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'partner_id'}"/>
                    <filter string="Nation" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'country_id'}"/>
                    <filter string="Zone" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'zone_id'}"/>
                </group>
            </search>
        </field>
    </record>

       <!-- Form -->
    <record model="ir.ui.view" id="view_statistic_invoice_form">
        <field name="name">statistic.invoice.form</field>
        <field name="model">statistic.invoice</field>
        <field name="arch" type="xml">
            <form string="Statistic invoice Form">
                <field name="partner_id"/>
                <field name="invoice_agent_id"/>
                <field name="total_last_last" />
                <field name="total_last"/>
                <field name="total"/>
                <field name="month"/>
            </form>
        </field>
    </record>

       <!-- Tree -->
    <record model="ir.ui.view" id="view_statistic_invoice_tree">
        <field name="name">statistic.invoice.tree</field>
        <field name="model">statistic.invoice</field>
        <field name="arch" type="xml">
            <tree string="Statistic invoice Tree">
                <field name="partner_id"/>
                <field name="invoice_agent_id"/>
                <field name="country_id"/>
                <field name="zone_id"/>
                <field name="total_last_last_last_last" sum="Totale -4" />
                <field name="total_last_last_last" sum="Totale -3" />
                <field name="total_last_last" sum="Totale -2" />
                <field name="total_last" sum="Totale -1" />
                <field name="total" sum="Totale" />
                <field name="month"/>
            </tree>
        </field>
    </record>
    
       <!-- Graph -->
    <!-- Per Fatturato Nazione: -->
    <record model="ir.ui.view" id="view_invoice_nation_graph">
        <field name="name">Fatturato nazione (barre)</field>
        <field name="model">statistic.invoice</field>
        <field name="priority" eval="40"/>
        <field name="arch" type="xml">
            <graph string="Fatturato nazioni" type="bar">
                <field name="country_id"/> <!--also zone_id-->
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>
    <record model="ir.ui.view" id="view_invoice_nation_zone_graph">
        <field name="name">Fatturato zone (barre)</field>
        <field name="model">statistic.invoice</field>
        <field name="priority" eval="40"/>
        <field name="arch" type="xml">
            <graph string="Fatturato zone" type="bar">
                <field name="zone_id"/>
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>
    <record model="ir.ui.view" id="view_invoice_total_graph">
        <field name="name">Fatturato complessivo (barre)</field>
        <field name="model">statistic.invoice</field>
        <field name="priority" eval="40"/>
        <field name="arch" type="xml">
            <graph string="Fatturato complessivo" type="bar">
                <field name="season_total"/> 
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>

    <!-- Per Fatturato Agenti: -->
    <record model="ir.ui.view" id="view_invoice_agent_hide_statistic_graph">
        <field name="name">Fatturato agente visibile (barre)</field>
        <field name="model">statistic.invoice</field>
        <field name="priority" eval="40"/>
        <field name="arch" type="xml">
            <graph string="Fatturato agente visibile Italia" type="bar">
                <field name="invoice_agent_id"/>
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>

    <record model="ir.ui.view" id="view_invoice_agent_graph">
        <field name="name">Fatturato agente (barre)</field>
        <field name="model">statistic.invoice</field>
        <field name="priority" eval="40"/>
        <field name="arch" type="xml">
            <graph string="Fatturato agente Italia" type="bar">
                <field name="invoice_agent_id"/>
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>

    <record model="ir.ui.view" id="view_invoice_trend_graph">
        <field name="name">Statistic invoice Graph</field>
        <field name="model">statistic.invoice</field>
        <field name="arch" type="xml">
            <graph string="trend by date" type="bar">
                <field name="month"/>
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>

       <!-- Action -->
    <record model="ir.actions.act_window" id="action_statistic_invoice">
        <field name="name">Statistic invoice Date</field>
        <field name="res_model">statistic.invoice</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,graph,form</field>
        <field name="search_view_id" ref="view_statistic_invoice_search" />
    </record>

       <!-- Dashboards: -->
       <!-- AGENTI: -->   
       <!--PRECEDENTE AZIONE: view_invoice_agent_graph *********************-->
       <record model="ir.actions.act_window" id="action_statistic_invoice_agent_i_True_dashboard">
            <field name="name">Fatture Agente Italia</field>
            <field name="res_model">statistic.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field> 
            <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_invoice_agent_hide_statistic_graph'}</field>
            <field name="domain">[('type_cei','=','i'),('invoice_agent_id','!=',False)]</field>
            <field name="search_view_id" ref="view_statistic_invoice_search" />
       </record>       
       <record model="ir.actions.act_window" id="action_statistic_invoice_agent_i_False_dashboard">
            <field name="name">Fatture Agente Italia (no agente)</field>
            <field name="res_model">statistic.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field> 
            <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_invoice_agent_graph'}</field>
            <field name="domain">[('type_cei','=','i'),('invoice_agent_id','=',False)]</field>
            <field name="search_view_id" ref="view_statistic_invoice_search" />
       </record>       
       <record model="ir.actions.act_window" id="action_statistic_invoice_agent_e_True_dashboard">
            <field name="name">Fatture Agente Estero</field>
            <field name="res_model">statistic.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field> <!--TODO CONTEXT CON VISTA GRAPH -->
            <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_invoice_agent_hide_statistic_graph'}</field>
            <field name="domain">[('type_cei','!=','i'),('invoice_agent_id','!=',False)]</field>
            <field name="search_view_id" ref="view_statistic_invoice_search" />
       </record>       
       
       
       <record model="ir.actions.act_window" id="action_statistic_nation_graph_form">
            <field name="name">Fatture Nazione</field>
            <field name="res_model">statistic.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field> <!--TODO CONTEXT CON VISTA GRAPH -->
            <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_invoice_nation_graph','search_view_ref':'accounting_statistic_invoice.view_statistic_invoice_nation_search'}</field>
            <field name="domain">[]</field>
            <field name="search_view_id" ref="view_statistic_invoice_nation_search" />
       </record>       
       <!--3 action for Zone (area, state, region)-->
       <record model="ir.actions.act_window" id="action_statistic_nation_zone_area_graph_form">
            <field name="name">Fatture Nazione (zone: macro aree)</field>
            <field name="res_model">statistic.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field> <!--TODO CONTEXT CON VISTA GRAPH (State)-->
            <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_invoice_nation_zone_graph','search_view_ref':'accounting_statistic_invoice.view_statistic_invoice_nation_search'}</field>
            <field name="domain">['|',('zone_type','=',False),('zone_type','=','area')]</field>
            <field name="search_view_id" ref="view_statistic_invoice_nation_search" /> <!--zone??-->
       </record> 
       <record model="ir.actions.act_window" id="action_statistic_nation_zone_graph_form">
            <field name="name">Fatture Nazione (zone: stati)</field>
            <field name="res_model">statistic.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field> <!--TODO CONTEXT CON VISTA GRAPH (State)-->
            <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_invoice_nation_zone_graph','search_view_ref':'accounting_statistic_invoice.view_statistic_invoice_nation_search'}</field>
            <field name="domain">[('zone_type','=','state')]</field>
            <field name="search_view_id" ref="view_statistic_invoice_nation_search" /> <!--zone??-->
       </record> 
       <record model="ir.actions.act_window" id="action_statistic_nation_zone_region_graph_form">
            <field name="name">Fatture Nazione (zone: regioni)</field>
            <field name="res_model">statistic.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field> <!--TODO CONTEXT CON VISTA GRAPH -->
            <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_invoice_nation_zone_graph','search_view_ref':'accounting_statistic_invoice.view_statistic_invoice_nation_search'}</field>
            <field name="domain">[('zone_type','=','region')]</field>
            <field name="search_view_id" ref="view_statistic_invoice_nation_search" /> <!--zone??-->
       </record>       

       <record model="ir.actions.act_window" id="action_statistic_total_graph_form">
            <field name="name">Fatture Complessivo</field>
            <field name="res_model">statistic.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field> <!--TODO CONTEXT CON VISTA GRAPH -->
            <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_invoice_total_graph'}</field>
            <field name="domain">[]</field>
       </record>              
       
       <record model="ir.actions.act_window" id="action_statistic_invoice_agent_e_False_dashboard">
            <field name="name">Fatture Agente Estero (no agente)</field>
            <field name="res_model">statistic.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field> <!--TODO CONTEXT CON VISTA GRAPH -->
            <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_invoice_agent_graph'}</field>
            <field name="domain">[('type_cei','!=','i'),('invoice_agent_id','=',False)]</field>
            <field name="search_view_id" ref="view_statistic_invoice_search" />
       </record>       
       
       
       <!-- Action per fatturato trend diviso per mese-->
    <record model="ir.actions.act_window" id="action_statistic_invoice_dashboard">
        <field name="name">Statistic invoice Date</field>
        <field name="res_model">statistic.invoice</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="search_view_id" ref="view_statistic_invoice_search" />
    </record>       
    <!--Non utilizzata!!!!!!!!--> 
    <record model="ir.actions.act_window" id="action_statistic_invoice_dashboard_best">
        <field name="name">Statistic invoice Date (best customers)</field>
        <field name="res_model">statistic.invoice</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="search_view_id" ref="view_statistic_invoice_search" />

        <field name="domain">"[('trend','=', True)]"</field>
        <field name="context">{'graph_view_ref': 'accounting_statistic_invoice'.'view_invoice_trend_best_graph'}</field>
    </record>
    
      <!--Statistic Trend: statistic.trend ******************************** -->
        <record model="ir.ui.view" id="view_statistic_trend_search">
        <field name="name">statistic.trend.search</field>
        <field name="model">statistic.trend</field>
        <field name="arch" type="xml">
            <search string="Statistiche fatturato (senza OC)">
                <group col="10" colspan="4">
                    <filter string="Importanti" name="trend" icon="terp-personal" domain="[('trend','=',1)]" help="Only partner with trend check selected"/>
                    <field name="name" string="Order"/>
                    <field name="partner_id"/>
                    <field name="total_last"/>
                    <field name="total"/>
                </group>
                <newline/>
                <group expand="0" string="Group By..." colspan="14">
                    <filter string="Partner" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'partner_id'}"/>
                </group>
            </search>
        </field>
    </record>

       <!-- Form -->
    <record model="ir.ui.view" id="view_statistic_trend_form">
        <field name="name">statistic.trend.form</field>
        <field name="model">statistic.trend</field>
        <field name="arch" type="xml">
            <form string="Statistiche fatturato (senza OC)">
                <field name="partner_id"/>
                <field name="total_last"/>
                <field name="total"/>
                <field name="percentage_last" />
                <field name="percentage" />
            </form>
        </field>
    </record>

       <!-- Tree -->
    <record model="ir.ui.view" id="view_statistic_trend_tree">
        <field name="name">statistic.trend.tree</field>
        <field name="model">statistic.trend</field>
        <field name="arch" type="xml">
            <tree string="Statistiche fatturato (senza OC)">
                <field name="partner_id"/>
                <field name="total_last" sum="Totale" />
                <field name="total" sum="Totale" />
                <field name="percentage_last" />
                <field name="percentage" />
            </tree>
        </field>
    </record>
    
       <!-- Graph -->
    <record model="ir.ui.view" id="view_statistic_trend_graph">
        <field name="name">Statistic trend Graph</field>
        <field name="model">statistic.trend</field>
        <field name="arch" type="xml">
            <graph string="Statistiche fatturato (senza OC)" type="bar">
                <field name="partner_id"/>
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>
    <record model="ir.ui.view" id="view_statistic_trend_current_best_graph_bar">
        <field name="name">Statistic trend current best</field>
        <field name="model">statistic.trend</field>
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
            <graph string="Statistiche fatturato (senza OC)" type="bar">
                <field name="partner_id"/>
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>
    <record model="ir.ui.view" id="view_statistic_trend_current_best_graph">
        <field name="name">Statistic trend current best</field>
        <field name="model">statistic.trend</field>
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
            <graph string="Statistiche fatturato anno attuale (senza OC) " type="pie">
                <field name="partner_id"/>
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>
    <record model="ir.ui.view" id="view_statistic_trend_last_best_graph">
        <field name="name">Statistic trend last best</field>
        <field name="model">statistic.trend</field>
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
            <graph string="Statistiche fatturato anno precedente (senza OC)" type="pie">
                <field name="partner_id"/>
                <field name="total_last" operator="+" />
            </graph>
        </field>
    </record>

       <!-- Action -->
    <record model="ir.actions.act_window" id="action_statistic_trend">
        <field name="name">Statistic trend Date</field>
        <field name="res_model">statistic.trend</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,graph,form</field>
        <field name="search_view_id" ref="view_statistic_trend_search"/>
    </record>

    <record model="ir.actions.act_window" id="action_view_statistic_trend_current_best_graph">
        <field name="name">Current Invoiced</field>
        <field name="res_model">statistic.trend</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">['|',('percentage','&gt;=',1),('percentage_last','&gt;=',1)]</field>
        <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_statistic_trend_current_best_graph'}</field>
    </record>
    <record model="ir.actions.act_window" id="action_view_statistic_trend_last_best_graph">
        <field name="name">Last Invoiced</field>
        <field name="res_model">statistic.trend</field>
        <field name="view_mode">graph, tree, form</field>
        <field name="domain">['|',('percentage','&gt;=',1),('percentage_last','&gt;=',1)]</field>
        <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_statistic_trend_last_best_graph'}</field>
    </record>
    <!-- BARRE -->
    <record model="ir.actions.act_window" id="action_view_statistic_trend_current_best_graph_bar">
        <field name="name">Current Invoiced</field>
        <field name="res_model">statistic.trend</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">['|',('percentage','&gt;=',1),('percentage_last','&gt;=',1)]</field>
        <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_statistic_trend_current_best_graph_bar'}</field>
    </record>
    <record model="ir.ui.view" id="view_statistic_trend_current_best_category_graph">
        <field name="name">Statistic trend category</field>
        <field name="model">statistic.trend</field>
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
            <graph string="Statistiche fatturato per categoria statistica (senza OC)" type="bar">
                <field name="statistic_category_id"/>
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>

       <!-- Action per statistic.trend -->   
    <record model="ir.actions.act_window" id="action_statistic_trend_dashboard">
        <field name="name">Statistic trend Date</field>
        <field name="res_model">statistic.trend</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <!--<field name="domain">[('trend','=',1)]</field>-->
        <field name="domain">[('trend_category','=',1)]</field>
        <field name="search_view_id" ref="view_statistic_trend_search"/>
        <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_statistic_trend_current_best_category_graph'}</field><!--TODO-->
    </record>


      <!--Statistic Trend: statistic.trendoc ********************************* -->
        <record model="ir.ui.view" id="view_statistic_trendoc_search">
        <field name="name">statistic.trendoc.search</field>
        <field name="model">statistic.trendoc</field>
        <field name="arch" type="xml">
            <search string="Cerca fatturato + OC">
                <group col="10" colspan="4">
                    <field name="name" />
                    <field name="partner_id"/>
                    <field name="total_last_last"/>
                    <field name="total_last"/>
                    <field name="total"/>
                </group>
                <newline/>
                <group expand="0" string="Group By..." colspan="14">
                    <filter string="Partner" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'partner_id'}"/>
                </group>
            </search>
        </field>
    </record>

       <!-- Form -->
    <record model="ir.ui.view" id="view_statistic_trendoc_form">
        <field name="name">statistic.trendoc.form</field>
        <field name="model">statistic.trendoc</field>
        <field name="arch" type="xml">
            <form string="Statistiche fatturato (FT + BC + OC)">
                <field name="partner_id"/>
                <field name="total_last_last"/>
                <field name="total_last"/>
                <field name="total"/>
                <field name="percentage_last_last" />
                <field name="percentage_last" />
                <field name="percentage" />
            </form>
        </field>
    </record>

       <!-- Tree -->
    <record model="ir.ui.view" id="view_statistic_trendoc_tree">
        <field name="name">statistic.trendoc.tree</field>
        <field name="model">statistic.trendoc</field>
        <field name="arch" type="xml">
            <tree string="Statistiche fatturato (FT + BC + OC)">
                <!--<field name="name" />-->
                <field name="partner_id"/>
                <field name="total_last_last" sum="Totale" />
                <field name="total_last" sum="Totale" />
                <field name="total" sum="Totale" />
                <field name="percentage_last_last" />
                <field name="percentage_last" />
                <field name="percentage" />
            </tree>
        </field>
    </record>

    <!--PIE-->
    <record model="ir.ui.view" id="view_statistic_trendoc_current_best_graph">
        <field name="name">Statistic trendoc current best</field>
        <field name="model">statistic.trendoc</field>
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
            <graph string="Fatturato (FT + BC + OC) anno attuale" type="pie">
                <field name="partner_id"/>
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>
    <record model="ir.ui.view" id="view_statistic_trendoc_last_best_graph">
        <field name="name">Statistic trendoc last best</field>
        <field name="model">statistic.trendoc</field>
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
            <graph string="Fatturato (FT + BC + OC) anno prec." type="pie">
                <field name="partner_id"/>
                <field name="total_last" operator="+" />
            </graph>
        </field>
    </record>
    <record model="ir.ui.view" id="view_statistic_trendoc_last_last_best_graph">
        <field name="name">Statistic trendoc -2 best</field>
        <field name="model">statistic.trendoc</field>
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
            <graph string="Fatturato (FT + BC + OC) anno prec." type="pie">
                <field name="partner_id"/>
                <field name="total_last_last" operator="+" />
            </graph>
        </field>
    </record>
    
    <record model="ir.ui.view" id="view_statistic_trendoc_current_best_graph_bar">
        <field name="name">Statistic trend current best</field>
        <field name="model">statistic.trendoc</field>
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
            <graph string="Statistiche fatturato" type="bar">
                <field name="partner_id"/>
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>
    
    <!--Graph per vedere le migliori categorie statistiche:-->
    <record model="ir.ui.view" id="view_statistic_trendoc_current_best_category_graph">
        <field name="name">Statistic trend category + OC</field>
        <field name="model">statistic.trendoc</field>
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
            <graph string="Statistiche fatturato per categoria statistica" type="bar">
                <field name="statistic_category_id"/>
                <field name="total" operator="+" />
            </graph>
        </field>
    </record>

    <!-- Fatturato con OC statistic.trendoc-->
    <!-- PIE -->   
    <record model="ir.actions.act_window" id="action_view_statistic_trendoc_current_best_graph">
        <field name="name">Current Invoiced</field>
        <field name="res_model">statistic.trendoc</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">['|','|',('percentage','&gt;=',1),('percentage_last','&gt;=',1),('percentage_last_last','&gt;=',1)]</field>
        <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_statistic_trendoc_current_best_graph'}</field>
    </record>
    <record model="ir.actions.act_window" id="action_view_statistic_trendoc_last_best_graph">
        <field name="name">Last Invoiced</field>
        <field name="res_model">statistic.trendoc</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">['|','|',('percentage','&gt;=',1),('percentage_last','&gt;=',1),('percentage_last_last','&gt;=',1)]</field>
        <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_statistic_trendoc_last_best_graph'}</field>
    </record>
    <record model="ir.actions.act_window" id="action_view_statistic_trendoc_last_last_best_graph">
        <field name="name">Invoiced -2</field>
        <field name="res_model">statistic.trendoc</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">['|','|',('percentage','&gt;=',1),('percentage_last','&gt;=',1),('percentage_last_last','&gt;=',1)]</field> 
        <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_statistic_trendoc_last_last_best_graph'}</field>
    </record>
    <!-- BARRE -->
    <record model="ir.actions.act_window" id="action_view_statistic_trendoc_current_best_graph_bar">
        <field name="name">Current Invoiced</field>
        <field name="res_model">statistic.trendoc</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <field name="domain">['|','|',('percentage','&gt;=',1),('percentage_last','&gt;=',1),('percentage_last_last','&gt;=',1)]</field> 
        <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_statistic_trendoc_current_best_graph_bar'}</field>
    </record>
    
    <record model="ir.actions.act_window" id="action_statistic_trendoc_dashboard">
        <field name="name">Statistic trend Date</field>
        <field name="res_model">statistic.trendoc</field>
        <field name="view_type">form</field>
        <field name="view_mode">graph,tree,form</field>
        <!--<field name="domain">[('trend','=',1)]</field>-->
        <!--<field name="domain">[('trend_category','=',1)]</field>-->
        <field name="search_view_id" ref="view_statistic_trend_search"/>
        <field name="context">{'graph_view_ref':'accounting_statistic_invoice.view_statistic_trendoc_current_best_category_graph'}</field><!--TODO-->
    </record>

   <menuitem name="Invoice statistic" 
       parent="accounting_statistic_base.menu_base_accounting" 
       id="menu_accounting_invoice_root" 
       sequence="1" />

       <menuitem name="Invoice per month" 
           parent="menu_accounting_invoice_root" 
           id="menu_accounting_invoice_month"
           sequence="10" 
           action="action_statistic_invoice" />

       <menuitem name="Invoice per product" 
           parent="menu_accounting_invoice_root" 
           id="menu_accounting_invoice_product"
           sequence="15" 
           action="action_statistic_invoice_product" />

       <menuitem name="Trend invoice" 
           parent="menu_accounting_invoice_root" 
           id="menu_accounting_invoice_trend"
           sequence="20" 
           action="action_statistic_trend" />

       <menuitem name="Trend invoice order" 
           parent="menu_accounting_invoice_root" 
           id="menu_accounting_invoice_trendoc"
           sequence="30" 
           action="action_statistic_trendoc_dashboard" />

       <!--configuration-->
       <menuitem name="Agenti statistiche" 
           parent="accounting_statistic_base.menu_base_mexal_configuration" 
           id="menu_base_mexal_statistic_agent_configuration" 
           sequence="20" 
           action="action_statistic_agents_configuration"/>

      <menuitem name="Famiglie escluse" 
           parent="accounting_statistic_base.menu_base_mexal_configuration" 
           id="menu_statistic_invoice_product_removed" 
           sequence="30" 
           action="action_statistic_invoice_product_removed" />

  </data>
</openerp>
